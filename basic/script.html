<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SENTENCE REVERSER</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
        <center>
            <br><br><br><br><br><br><br><br><br><br><br>
         <div class="container">
            <div>
                <h3>SENTENCE REVERSER!</h3>
            </div>
                <br><br>
            <div class="textarea">
                <label>Phrase: </label>
                <input type="text" name="phrase" id="phrase">
            </div>
                 <br>
            <div class="filter">
                 <label>Filter: </label>
                 <input type="text" name="filter" id="filter">
            </div>
                  <br><br>
            <div>
                <input type="submit" value="GO !" class="btn btn-success" onclick="manipulateString()">
            </div>
     
            <div id="words"></div>
            <div id="count"></div>
        
         </div>
         
             <script> 

                function manipulateString(){

                    document.getElementById("words").innerHTML = '';
                    document.getElementById("count").innerHTML = '';

                    const phraseInput = document.getElementById('phrase').value;
                    const filterInput = document.getElementById('filter').value;

                    const words = phraseInput.split(' ');

                    words.reverse();

                    const filteredWords = filterInput
                       ?words.filter(word => !word.toLowerCase().includes(filterInput))
                       :words;

                    const wordsContainer = document.getElementById('words');
                    
                    filteredWords.forEach((word, index) =>{
                        const span = document.createElement('span');
                        span.textContent = word;
                        span.classList.add('word');

                        if (index % 2 === 1) {
                            span.style.textDecoration = 'underline';
                        }


                        wordsContainer.appendChild(span);

                    });
                    
                     const countContainer = document.getElementById('count');

                     if(filteredWords.length < words.length){

                        const countText =  `${words.length - filteredWords.length} word(s) filterd out`;
                        countContainer.textContent = countText;

                     }



                }

             </script>

        </center>
</body>
</html>